<?xml version="1.0" encoding="UTF-8"?>
<eventPublisher name="APIErrorRatioEmailAlertPublisher" statistics="disable"
  trace="disable" xmlns="http://wso2.org/carbon/eventpublisher">
  <from streamName="org.wso2.api.errorRatioAlert" version="1.0.0"/>
  <mapping customMapping="enable" type="text">
    <inline>
    <![CDATA[
    <h3>Error Ratio Alert</h3>
    Error ratio : {{ratio}}%<br/><br/>
    API name : {{name}}<br/><br/>
    API version : {{version}}<br/><br/>
    API context : {{context}}<br/><br/>
    Threshold : {{threshold}}%<br/><br/>
    Time window : last {{window}}(s)<br/><br/>
    ]]>
</inline>
  </mapping>
  <to eventAdapterType="email">
    <property name="email.address">rushmin@wso2.com</property>
    <property name="email.type">text/html</property>
    <property name="email.subject">[ALERT] ESB API Invocation</property>
  </to>
</eventPublisher>
